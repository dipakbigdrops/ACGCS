# API Configuration
MAX_FILE_SIZE_MB=10
MAX_ZIP_SIZE_MB=50
MAX_FILES_IN_ZIP=100
ANALYZE_TIMEOUT_SEC=150
ZIP_ANALYZE_TIMEOUT_SEC=300
MAX_CONCURRENT_ANALYZE=1
ANALYZE_QUEUE_LIMIT=0

# CORS Configuration
ALLOWED_ORIGINS=*

# Model Configuration
SEMANTIC_MODEL_VERSION=v1
SEMANTIC_CONFIDENCE_THRESHOLD=0.5
EMBEDDING_CACHE_MAX_SIZE=5000

# OCR Configuration
OCR_THREAD_POOL_WORKERS=1
IMAGE_DOWNLOAD_RETRIES=2
IMAGE_DOWNLOAD_TIMEOUT=20.0
IMAGE_DOWNLOAD_CAP_MB=25
IMAGE_MAX_DIMENSION=1920
IMAGE_JPEG_QUALITY=85
CIRCUIT_BREAKER_FAILURES=5
CIRCUIT_BREAKER_RESET_SEC=60.0

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SEC=60
RATE_LIMIT_HEADER=X-API-Key

# Guidelines Storage
GUIDELINES_PERSISTENCE_DIR=

# Monitoring
ENABLE_METRICS=true
MODEL_HOT_RELOAD_POLL_SEC=0

# Performance Optimization Settings
# Enable these for lighter, faster startup with on-demand resource loading

# LOW_MEMORY_MODE: Reduces overall memory footprint
LOW_MEMORY_MODE=false

# LAZY_LOAD_MODELS: Models load on first use instead of at startup
# Reduces startup time from ~10s to ~3s
# Memory is allocated only when needed
LAZY_LOAD_MODELS=true

# ENABLE_PLAYWRIGHT: Use Playwright for HTML rendering and DOM extraction
# Set to false to use lightweight regex-based parsing instead
# Reduces Docker image size by ~300MB
# Faster but less accurate for JavaScript-heavy HTML
ENABLE_PLAYWRIGHT=false

# ENABLE_OCR: Enable EasyOCR for image text extraction
# Set to false if you only process HTML files
# Reduces dependencies and memory usage
ENABLE_OCR=true

# Recommended configurations for different use cases:
#
# Lightweight mode (minimal resources):
#   LAZY_LOAD_MODELS=true
#   ENABLE_PLAYWRIGHT=false
#   ENABLE_OCR=true
#   LOW_MEMORY_MODE=true
#
# Fast startup mode:
#   LAZY_LOAD_MODELS=true
#   ENABLE_PLAYWRIGHT=false
#   ENABLE_OCR=true
#
# Full-featured mode (default):
#   LAZY_LOAD_MODELS=false
#   ENABLE_PLAYWRIGHT=true
#   ENABLE_OCR=true
#
# HTML-only mode (no images):
#   LAZY_LOAD_MODELS=true
#   ENABLE_PLAYWRIGHT=false
#   ENABLE_OCR=false
